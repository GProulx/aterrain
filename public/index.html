

<style>
boxdy { background:#f0e0e0; overflow:hidden;}
</style>


<script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/webpack-cesium/1.37.0/webpack.cesium.js"></script>
<script src="js/aterrain/GLTFLoader.js"></script>
<script src="js/aterrain/math.js"></script>
<script src="js/aterrain/imageserver.js"></script>
<script src="js/aterrain/tileserver.js"></script>
<script src="js/aterrain/aterrain.js"></script>
<script src="js/agame.js"></script>

<div id="test"></div>

<a-scene cursor="rayOrigin: mouse">

  <!-- scene graph fragment for main game -->
  <a-entity id="agame-main" visible="true"
                a-terrain="lat:45.557749; lon:-122.6794; radius:1000; elevation:263727982"
            agame-terrain="lat:45.557749; lon:-122.6794; radius:1000; elevation:263727982"
            >

    <a-sphere radius=1050 wireframe=1 segments-height=18 segments-width=36></a-sphere>

    <!--
    <a-entity a-ll="lat:45.557749; lon:-122.6794; radius:10;">
      <a-entity rotation="-90 0 0" scale="0.3 0.3 0.3">
        <a-entity rotation="0 0 0">
           <a-animation attribute="rotation"
               dur="300"
               fill="forwards"
               from="0 0 0"
               to="0 360 0"
               repeat="indefinite"></a-animation>
          <a-gltf-model src="assets/duck.gltf"></a-gltf-model>
        </a-entity>
      </a-entity>
    </a-entity>

    <a-entity a-ll="lat:45.557749; lon:-112.6794; radius:10;">
      <a-entity rotation="-90 0 0" scale="0.3 0.3 0.3">
        <a-entity rotation="0 0 0">
           <a-animation attribute="rotation"
               dur="1010"
               fill="forwards"
               from="0 -180 0"
               to="0 180 0"
               repeat="indefinite"></a-animation>
          <a-gltf-model src="assets/duck.gltf"></a-gltf-model>
        </a-entity>
      </a-entity>
    </a-entity>

    <a-entity a-ll="lat:45.557749; lon:-102.6794; radius:10;">
      <a-entity rotation="-90 0 0" scale="0.3 0.3 0.3">
        <a-entity rotation="0 0 0">
           <a-animation attribute="rotation"
               dur="1500"
               fill="backwards"
               from="0 0 0"
               to="0 360 0"
               repeat="indefinite"></a-animation>
          <a-gltf-model src="assets/duck.gltf"></a-gltf-model>
        </a-entity>
      </a-entity>
    </a-entity>
    -->

  </a-entity>


  <!-- scene graph fragment for player profile -->
  <a-entity id="agame-profile" agame-profile="" visible="false">
  </a-entity>

  <!-- global buttons -->
  <a-entity id="game-toggle"
            position="4 4 0"
            scale="1.5 1 1"
            geometry="primitive: plane;"
            material="src: assets/person.jpg; color: #ffffff; emissive:#404040; roughness: 1; metalness: 0">
  </a-entity>

  <!-- camera -->
  <a-entity id="camera" camera="fov:60" mouse-cursor position="0 0 0"></a-entity>

</a-scene>

<script>

function global_buttons() {
  document.querySelector('#game-toggle').addEventListener('click', function() {
    let visible = document.querySelector('#agame-main').getAttribute("visible");
    document.querySelector('#agame-main').setAttribute("visible",visible?false:true);
    document.querySelector('#agame-profile').setAttribute("visible",visible);
  });
}

global_buttons();

</script>


